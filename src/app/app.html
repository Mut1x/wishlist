<main class="container">
  <h1>{{ title }}</h1>

  <div class="header-actions">
    <button class="btn btn-primary" (click)="openAddModal()">
      <span>+</span> Add New Wish
    </button>
  </div>

  @if (wishes.length > 0) {
  <ul class="wish-list">
    @for (wish of wishes; track wish.id) {
    <li class="wish" [class.acquired]="wish.isAcquired">
      <div class="wish-content">
        <div class="wish-info">
          <h3>{{ wish.name }}</h3>
          @if (wish.description) {
            <p class="wish-description">{{ wish.description }}</p>
          }
          @if (wish.price) {
            <p class="wish-price">{{ wish.price }} {{ wish.currency }}</p>
          }
          @if (wish.link) {
            <a href="{{ wish.link }}" target="_blank" class="wish-link">View Item</a>
          }
        </div>
        
        <div class="wish-actions">
          <button class="btn btn-edit" (click)="openEditModal(wish)" title="Edit Wish">
            <img width="16" height="16" src="/assets/edit.svg" alt="Edit" />
          </button>
          <button class="btn btn-delete" (click)="removeWish(wish)" title="Delete Wish">
            <img width="16" height="16" src="/assets/delete.svg" alt="Delete" />
          </button>
          <label class="checkbox-wrapper">
            <input type="checkbox" [checked]="wish.isAcquired" (change)="toggleWish(wish)" />
            <span class="checkmark"></span>
            <span class="label-text">Acquired</span>
          </label>
        </div>
      </div>
    </li>
    }
  </ul>
  } @else {
  <div class="empty-state">
    <p>No items in wishlist.</p>
    <button class="btn btn-primary" (click)="openAddModal()">Add Your First Wish</button>
  </div>
  }

  <app-modal 
    [isOpen]="isModalOpen"
    [editingWish]="editingWish"
    (closeModal)="closeModal()"
    (saveWish)="handleSaveWish($event)"
  ></app-modal>
</main>